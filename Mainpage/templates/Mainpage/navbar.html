{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock %}</title>
    <script src="https://kit.fontawesome.com/6e04d39f81.js" crossorigin="anonymous"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css"
        integrity="sha384-jLKHWM3JRmfMU0A5x5AkjWkw/EYfGUAGagvnfryNV3F9VqM98XiIH7VBGVoxVSc7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <style>
        .messages{
            width: 97%;
        }
    </style>
    {% block style %}

    {% endblock %}
</head>

<body>
    <div class="container">
        <input id="menu__toggle" type="checkbox" />
        <label class="menu__btn" for="menu__toggle">
            <span></span>
        </label>
        <nav class="sidebar">
            <header>
                <div class="image-text">
                    <span class="image">
                        <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgjA6FdqLFps5zaTKQjQJaEThc8nqqk-qq8BTrxjoc1a2DWIJ2wb-eTf1R4hYRwC4UDqdR2kOish2vKcemBjYQEh0waLfZ4wcteJvy0TISrdbPWZm8udx730Ow7nj-oU_-7ZJGQSWWU8iAa_FG3BZ02BK1gpXYzmxj-s42fk4D0WrooBR6bypV9ImrSOg=s800"
                            alt="">
                    </span>

                    <div class="text logo-text">
                        <span class="name">Site Manager</span>
                        <span class="profession">{{user.first_name}} {{user.last_name}}</span>
                    </div>
                </div>

                <i class="fa-solid fa-chevron-right toggle" style="font-size: 10px;"></i>
            </header>

            <div class="menu-bar">
                <div class="menu">

                    <ul class="menu-links" style="padding: 10px;">
                        <li class="nav-link">
                            <a href="/dashboard/">
                                <i style="font-size:23px; margin-left: 7px;" class="fa">&#xf00b;</i>
                                <span class="text nav-text" style="margin-left: 7px;"> Dashboard</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/sites/">
                                <i class="fa-solid fa-briefcase" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;"> My Sites</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/materials/">
                                <i class="fa-solid fa-recycle" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Used Materials</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/manage-machines/">
                                <i class="fa-solid fa-list" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Rent Machinery</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/transport/">
                                <i class="fa-solid fa-truck" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Transport</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/labour/">
                                <i class="fa-solid fa-user" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Manage Labour</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/godown/">
                                <i class="fa-solid fa-building" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Godown Stocks</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/accounting/">
                                <i class="fa-solid fa-coins" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Accounting</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/work-progress/">
                                <i class="fa-brands fa-creative-commons-nd"
                                    style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Work Progress</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/purchase-machine/">
                                <i class="fa-solid fa-money-bill" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Machinery Purchase</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/attendance/">
                                <i class="fa-solid fa-user" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Labour Attendance</span>
                            </a>
                        </li>

                        <li class="nav-link">
                            <a href="/reports/">
                                <i class="fa-solid fa-database" style="font-size: 23px; margin-left: 7px;"></i>
                                <span class="text nav-text" style="margin-left: 10px;">Reports</span>
                            </a>
                        </li>

                    </ul>
                </div>

                <div class="bottom-content">
                    <li class="">
                        <a href="/logout/">
                            <i class="fa-solid fa-right-from-bracket" style="margin-left: 20px;"></i>
                            <span class="text nav-text" style="margin-left: 10px;">Logout</span>
                        </a>
                    </li>

                </div>
            </div>

        </nav>

        <section class="home">
            {% if messages %}
            <ul class="messages" id="message" style="z-index: 3;">
                {% for message in messages %}
                <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                    {{message}}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
            </ul>
            {% endif %}
            {% block body %}

            {% endblock %}
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script type="text/javascript" language="javascript"
    src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script>
    jQuery(document).ready(function ($) {
        $('#example').DataTable({
            language: {
                lengthMenu: "Length _MENU_ per page",
                info: "",
                search: "Search!",
                paginate: {
                    first: "First",
                    last: "Last",
                    next: "Next",
                    previous: "Previous"
                }
            }
        });
    });

    jQuery(document).ready(function ($) {
        $('#example1').DataTable({
            language: {
                lengthMenu: "Length _MENU_ per page",
                info: "",
                search: "Search!",
                paginate: {
                    first: "First",
                    last: "Last",
                    next: "Next",
                    previous: "Previous"
                }
            }
        });
    });
    if(document.getElementById("message")){
        setTimeout(function(){
            document.getElementById("message").style.display = "none";
        },3000);
    }
    const body = document.querySelector("body"),
        sidebar = body.querySelector("nav"),
        toggle = body.querySelector(".toggle"),
        searchBtn = body.querySelector(".search-box"),
        modeSwitch = body.querySelector(".toggle-switch"),
        modeText = body.querySelector(".mode-text");

    toggle.addEventListener("click", () => {
        sidebar.classList.toggle("close");
    });

    searchBtn.addEventListener("click", () => {
        sidebar.classList.remove("close");
    });

    modeSwitch.addEventListener("click", () => {
        body.classList.toggle("dark");

        if (body.classList.contains("dark")) {
            modeText.innerText = "Light mode";
        } else {
            modeText.innerText = "Dark mode";
        }
    });

</script>
{% block script %}
{% endblock %}

</html>